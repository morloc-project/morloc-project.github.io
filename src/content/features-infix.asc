=== Infix operators

Morloc supports user-defined infix operators with explicit associativity and
precedence. Operators are declared with `infixl` (left-associative) or `infixr`
(right-associative) followed by a precedence level (higher binds tighter):

[source, morloc]
----
infixl 6 +
infixl 7 *
infixr 8 **
----

Operators are given type signatures by wrapping them in parentheses:

[source, morloc]
----
(+) a :: a -> a -> a
(*) a :: a -> a -> a
(**) :: Int -> Int -> Int
----

Operators may be sourced from foreign languages like any other function:

[source, morloc]
----
source Py from "ops.py" ("add" as (+), "mul" as (*))
----

Infix operators work naturally with typeclasses:

[source, morloc]
----
class Num a where
    zero a :: a
    negate a :: a -> a
    (+) a :: a -> a -> a
    (*) a :: a -> a -> a

infixl 6 +
infixl 7 *

instance Num Int where
    source Py from "foo.py" ("add" as (+), "mul" as (*), "neg" as negate)
    zero = 0

-- now we can write natural expressions
test_expr :: Int
test_expr = 4 * 7 + 3  -- evaluates to 31 (precedence: 4*7 first, then +3)
----

Operators may also be imported from other modules:

[source, morloc]
----
import ops ((&), (|))
----


